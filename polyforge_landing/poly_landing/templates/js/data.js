// Демонстрационные данные для тестирования (в будущем будут заменены на запрос к ии)
const mockPolymers = {
    "main": [
        {
            "id": 1,
            "name": "Полимер F-203 (Термоэластомер)",
            "structure": "C₁₀H₁₂O₂ - [CH₂-CH(C₆H₅)]ₙ",
            "properties": ["Гибкий", "Термостойкий (до 210°C)", "Биоразлагаемый", "Плотность: 1.15 г/см³"],
            "synthesis": {
                "steps": [
                    "Подготовка мономеров: смешать стирол и акриловую кислоту в молярном соотношении 9:1",
                    "Инициирование полимеризации: добавить инициатор АИБН (0.5% от массы мономеров)",
                    "Проведение реакции: нагреть до 80°C в инертной атмосфере в течение 6-8 часов",
                    "Очистка продукта: осадить в метаноле, отфильтровать и высушить под вакуумом"
                ],
                "reagents": [
                    "Стирол (99% чистоты)",
                    "Акриловая кислота (98% чистоты)",
                    "АИБН (инициатор)",
                    "Метанол (для осаждения)"
                ],
                "conditions": {
                    "Температура": "80°C",
                    "Атмосфера": "инертная (азот)",
                    "Время": "6-8 часов",
                    "Выход": "~85%"
                }
            }
        },
        {
            "id": 2,
            "name": "Полимер G-455 (Биополимер)",
            "structure": "C₈H₁₀N₂O₄ - [NH-(CH₂)₅-CO]ₙ",
            "properties": ["Гибкий", "Термостойкий (до 190°C)", "Биоразлагаемый", "Плотность: 1.08 г/см³"],
            "synthesis": {
                "steps": [
                    "Метод синтеза: поликонденсация адипиновой кислоты и гексаметилендиамина"
                ],
                "reagents": [],
                "conditions": {}
            }
        }
    ],
    "alternatives": [
        {
            "id": 3,
            "name": "Полимер J-089 (Алифатический полиэфир)",
            "structure": "C₆H₈O₄ - [O-(CH₂)₄-O-CO-(CH₂)₄-CO]ₙ",
            "properties": ["Гибкий", "Термостойкий (до 180°C)", "Биоразлагаемый", "Плотность: 1.05 г/см³"],
            "synthesis": {
                "steps": [
                    "Метод синтеза: поликонденсация бутандиола и адипиновой кислоты"
                ],
                "reagents": [],
                "conditions": {}
            }
        }
    ]
};

// Функция для имитации запроса к ИИ
function simulateAIRequest(query, filters) {
    return new Promise((resolve) => {
        // Здесь в будущем будет реальный запрос к бэкенду
        setTimeout(() => {
            // Простая логика фильтрации по запросу
            const filteredResults = {
                main: mockPolymers.main.filter(polymer => 
                    query.toLowerCase().includes("гибкий") || 
                    query.toLowerCase().includes("термостойкий")
                ),
                alternatives: mockPolymers.alternatives
            };
            
            // Если нет результатов, используем демонстрационные данные
            if (filteredResults.main.length === 0) {
                filteredResults.main = mockPolymers.main;
            }
            
            resolve(filteredResults);
        }, 1000); // Уменьшаем время для демо
    });
}